//=================================================================
// Sections
//=================================================================

@mixin sections($custom: ()) {

	//-------------------------------------------------------------
	// Config
	//-------------------------------------------------------------

	$sections: config((
		name            : section
	), $custom);

	//-------------------------------------------------------------
	// Component
	//-------------------------------------------------------------
	
	@include module(section) {

	// Core Styles
	//-------------------------------------------------------------
	
		background-size: cover;	
		background-position: center;
        
		// Carousel Tools

		.slide-prev,
		.slide-next {
			@include vertical-center(absolute);
		}

	// Modifiers
	//-------------------------------------------------------------

		//---------------------------------------------------------
		// Primary/Secondary
		//---------------------------------------------------------
		
		@include modifiers((primary, secondary)) {
			padding: 6em 0;
		}
        
        @include modifier(mini) {
            padding: 4em 0;
        }
        
        @include modifier(panel) {
			border-top: 1px solid color(greyscale, grey-2);	
			background: color(greyscale, white);
        }
	
		//---------------------------------------------------------
		// Secondary
		//---------------------------------------------------------
		
		@include modifier(secondary) {
			background-color: color(brand, primary);
			> .container {
				position: relative;
			}
			&, a:not([class*="button-"]) {
				color: color(greyscale, white);
			}
			.owl-dot {
				&.active {
					span {
						background: color(greyscale, white);
					}
				} 
			}
            b, strong {
                color: color(greyscale, white);
            }
			@include overwrite-component(group, $parent: heading) {
                &, p {
				    color: color(greyscale, white);
                }
			}
		}
		
		//---------------------------------------------------------
		// Full Screen
		//---------------------------------------------------------
		
		@include modifier(full-screen) {
			height: 100vh;
			@if option($top-bar, fixed) {
				height: calc(100vh - #{option($top-bar, height)});
			}
			@if option($header, sticky) {
				height: calc(100vh - #{option($header, height)});
			}
		}
		
		@at-root {
			@include overwrite(top-bar, $is: fixed) {
				@include overwrite($special: general-sibling, $is: full-screen) {
					height: calc(100vh - #{option($top-bar, height)});
				}
			}
		}
		
		@at-root {
			@include overwrite(app-header, $is: sticky) {
				@include overwrite($special: general-sibling, $is: full-screen) {
					height: calc(100vh - #{option($header, height)});
				}
			}
		}
	
		//---------------------------------------------------------
		// Overlay
		//---------------------------------------------------------
		
		@include modifier(overlay) {
			@include bg-overlay(rgba(color(brand, primary), 0.4));
			@include modifier(deep) {
				@include bg-overlay(rgba(color(brand, primary), 0.75));
			}
			@include modifier(dark) {
				@include bg-overlay(rgba(color(greyscale, grey-5), 0.75));			
			}
			@include modifier(alt) {
				@include bg-overlay(rgba(color(greyscale, grey-5), 0.5));			
			}
			&, a:not([class*="button-"]) {
				color: color(greyscale, white);
                //text-shadow: 1px 1px 1px rgba(black, 0.5);
			}
			.wrap-section {
				position: relative;
			}
		}
	
		//---------------------------------------------------------
		// Dot Map
		//---------------------------------------------------------
		
		@include modifier(dot-map) {
			position: relative;
			padding-bottom: 12em;
			&:before {
				content: "";
				background-image: url("#{$asset-path}/images/dot-map.png");
				background-position: center top;
				background-repeat: no-repeat;
				opacity: 0.1;
				position: absolute;
				bottom: 0;
				height: 9em;
				width: grid-option(base-width);
				max-width: grid-option(max-width);
				@extend %horizontal-center;
			}
		}
	
		//---------------------------------------------------------
		// Banner
		//---------------------------------------------------------
		
		@include modifier(banner) {
			padding: 5em 0;
		}
		
		//---------------------------------------------------------
		// Flush
		//---------------------------------------------------------
		
		@include modifier(flush) {
			padding-top: 0;
		}
		
		//---------------------------------------------------------
		// Sink
		//---------------------------------------------------------
		
		@include modifier(sink) {
			padding-bottom: 0;
		}
		
		//---------------------------------------------------------
		// Block
		//---------------------------------------------------------
		
		@include modifier(block) {
            overflow: hidden;
			& + & {
				border-top: 1px solid color(greyscale, grey-2);
                position: relative;
			}
		}
		
	// Components
	//-------------------------------------------------------------
	
		@include component(block) {
			position: relative;
			transition: base(transition);
			padding: 7%;
			background-size: cover;
			@include modifier(opaque) {
				background: rgba(white, 0.95);
			}
		}
		
		@include component(graphic) {
			position: relative;
			> img {
				position: absolute;
				transform: translateY(-10%);
				@extend %horizontal-center;
			}
		}
	
	} // component(section)
	
} // @mixin sections