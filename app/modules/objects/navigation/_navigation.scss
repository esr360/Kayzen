//=================================================================
// Navigation
//=================================================================

@mixin navigation($custom: ()) {

	//-------------------------------------------------------------
	// Config
	//-------------------------------------------------------------

	$navigation: config((
		
		name                     : navigation,
		output-JSON              : true,
		
	// Options
	//-------------------------------------------------------------
	
		text-align               : right,
		font-size                : 1em,
		dropdown-icon            : "\f107",
		//list-item
		item-gutter              : 0.5em,
		item-padding             : 0.5rem 0.75rem,
		item-color               : color(greyscale, white),
		item-bg                  : transparent,
		item-border              : 1px solid transparent,
		// list-item:hover
		item-hover-color         : null,
		item-hover-bg            : transparent,
		item-hover-border        : 1px solid color(greyscale, white),
		// list-item.active
		item-active-color        : null,
		item-active-bg           : null,
		item-active-border       : null,
		// list-item.active:hover
		item-active-hover-color  : null,
		item-active-hover-bg     : null,
		item-active-hover-border : null,
		// list-item:has-child
		has-child-hover-color    : color(brand, primary),
		has-child-hover-bg       : color(greyscale, grey-1),
		has-child-hover-border   : 1px solid transparent,
		// when inside optional header-dark modifier
		header-dark              : (
			default              : false,
			// list-item
			item-color           : base(text-color),
			item-border          : 1px solid color(greyscale, white),
			item-bg-color        : transparent,
			// list-item:hover
			item-hover-color     : null,
			item-hover-border    : 1px solid color(greyscale, white),
			item-hover-bg-color  : color(brand, primary),
		),// header-dark
		
	// Settings
	//-------------------------------------------------------------
	
		no-icons                : false
		
	), $custom) !global;

	//-------------------------------------------------------------
	// Component
	//-------------------------------------------------------------
		
	@include overwrite('header', $not: 'side') {
	
		@include component {
	
		// Core Styles
		//-------------------------------------------------------------
			
			font-size: option($config, font-size);
			
			// all levels
			li {    
				a {
					display: block;
					padding: option($navigation, item-padding);
					color: option($navigation, item-color);
					border: option($navigation, item-border);
					&:hover {
						text-decoration: none;
					}
					// icon
					@include overwrite-sub(icon) {
						margin-right: 0.5em;
					}
				}   
			}
		
			// parent level only
			> ul {
		
				@extend %list-reset;
				display: none; // hide by default for small resolutions
				vertical-align: middle;
		
				> li {
		
					// add gap between items
					margin-left: option($navigation, item-gutter);
					&:first-child {
						margin-left: 0;
					}
		
					> a {
						background: option($navigation, item-bg);
						// if item has child menu
						&:not(:only-child) {
							border-bottom-color: transparent;
							&:after {
								content: option($navigation, dropdown-icon);
								font-family: FontAwesome;
								margin-left: 0.5em;
							}
						}
					}
		
					&:hover {
						> a {
							color: option($config, link-hover-color);
							background: option($config, item-hover-bg);
							border: option($config, item-hover-border);
							// if item has child menu
							&:not(:only-child) {
								color: option($config, has-child-hover-color);
								background: option($config, has-child-hover-bg);
								border: option($config, has-child-hover-border);
								border-bottom-color: transparent;
							}
						}
					}
		
					&.active {
						> a {
							color: option($config, link-active-color);
						}
						&:hover {
							// if item is active and hovered
							// > a {}
						}
					}
		
				} // > li
		
			} // > ul
	
			// Larger Resolutions
			@media (min-width: breakpoint(break-3)) {
				text-align: option($config, text-align);
				> ul {
					display: inline-block;
					> li {
						display: inline-block;
						//position: relative;
					}
				}
			}
	
		// Settings
		//-------------------------------------------------------------
		
			@include setting(no-icons) {
				@include overwrite-sub(icon) {
					display: none;
				}
			}
	
		} // component(navigation)
		
	} // overwrite('header')

} // @mixin navigation