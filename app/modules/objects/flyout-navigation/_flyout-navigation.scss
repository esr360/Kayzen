//=================================================================
// Flyout Navigation
//=================================================================

@import "flyout-trigger";

@mixin flyout-navigation($custom: ()) {

	//-------------------------------------------------------------
	// Config
	//-------------------------------------------------------------

	$flyout-navigation: config((
		name            : flyout-navigation
	), $custom);
	
	//-------------------------------------------------------------
	// Component
	//-------------------------------------------------------------
	
	.flyout-container {
	
	    position: fixed;
	    width: 350px;
	    left: -350px;
	    height: 100%;
	    top: 0;
	    z-index: 9999;
	    font-weight: bold;
	    overflow: auto;
	    background: color(greyscale, grey-5);
	    transition: 0.4s;
	    transform: translate3d(0,0,0);
	    box-shadow: inset -10px 0 6px -9px rgba(0, 0, 0, 0.7);
		font-size: font-size(size-2);
	
		ul {
			padding: 0;
			margin: 0;
			list-style: none;
			li {
				&:hover {
					> a {
						border-left-color: color(brand, primary);
					}
				}
			}
			a {
			    display: block;
			    padding: 1em 1.6em;
			    border-bottom: 1px solid rgba(color(greyscale, black), 0.1);
			    border-top: 1px solid rgba(color(greyscale, white), 0.05);
			    border-left: 5px solid rgba(color(greyscale, black),0.3);
			    text-decoration: none;
				color: color(greyscale, grey-3);
			}   
			ul {
				ul {
					padding-left: 1.5em;
					font-weight: lighter;
				}
			}
		}
	
		> ul {		
			> li {
				> a {
					color: white;
					border-left-color: color(brand, primary);
					background: rgba(0,0,0,0.15);
				}
				&:hover {
					> a {
						background: color(brand, primary);
						color: color(greyscale, white);
					}
				}
			}
		}
	
	    .flyout-active & {
	    	left: 0;
	    }
		
		// hide the mega-menu
		@include overwrite(mega-menu) {
			display: none !important;
		}
	
	} // .flyout-container
	
	// site-overlay
	.flyout-visible {
		z-index: 13;
	}
	
	//-------------------------------------------------------------
	// Sub-Modules
	//-------------------------------------------------------------
	
	@include flyout-trigger;
	
} // @mixin flyout-navigation