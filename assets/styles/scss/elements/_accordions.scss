//=================================================================
// Accordions
//=================================================================

//-----------------------------------------------------------------
// Config
//-----------------------------------------------------------------

$accordions: (
	
);

//-----------------------------------------------------------------
// Mixin
//-----------------------------------------------------------------

@mixin accordions($config: ()) {

	$accordions: map-merge-deep($accordions, $config) !global;
	
	//-------------------------------------------------------------
	// Component
	//-------------------------------------------------------------
	
	@include component(accordion) {

	// Core Styles
	//-------------------------------------------------------------
	
		margin-bottom: base(margin);
		border-bottom: 1px solid rgba(0,0,0,0.15);
		@include vertical-rhythm(bottom);

		> * { // each individual section

			margin: 0;

			> *:first-child { // clickable part
				display: block;
				padding: 1em;
				margin: 0;
				border: 1px solid rgba(0,0,0,0.15);
				border-bottom: none;
				cursor: pointer;
				font-weight: normal;	
				line-height: 1;		
				transition: 0.4s;
	  			backface-visibility: hidden;
				&:after {
					content: "\f138";
					font-family: FontAwesome;
					opacity: 0.4;
					float: right;
					color: color(greyscale, grey-3);
					transition: 0.4s;
				}
			}	

			> *:last-child { // content part
				display: none;
				border: 1px solid rgba(0,0,0,0.15);
				border-bottom: none;
				padding: 1.5em;
				margin: 0;
				margin-top: -1px;	
				font-weight: lighter;
				background: color(greyscale, white);
				&.active {
					display: block;
				}				
			}

			&:hover, 
			&.active {
				> *:first-child { // clickable part
					background: color(brand, primary);
					color: color(greyscale, white);
					&:after {
						opacity: 1;
						color: color(greyscale, white);
					}
				}
			}

			&.active {
				> *:first-child { // clickable part
					background: color(brand, primary);
					border-color: color(brand, primary);
					color: color(greyscale, white);
					&:after {
						color: color(greyscale, white);				
						transform: rotate(90deg) translateZ(0);
					}
				}
			}

		} // each individual section
	
	} // component(accordion)
	
} // @mixin accordions