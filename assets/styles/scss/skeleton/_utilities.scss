//=================================================================
// Utilities
//=================================================================

//-----------------------------------------------------------------
// Modular CSS Mixins 
//-----------------------------------------------------------------

// Component

@mixin component($component: $component) {
	$component: $component !global;
	[class*="#{$component}-"] {
		@content;
	}
}

// Nested Component

@mixin nested-component($component: $component) { 
	.#{$component},
	[class*="#{$component}-"] {
		@content;
	}
}

// Core/Default Styles

@mixin core {
	@at-root &, .#{$component} {
		@content;
	}
}

// Modifiers 

@mixin modifier($modifier, $tag: null) {
	@if $tag != null {
		#{$tag},
		&[class*="-#{$modifier}"] {
			@content;
		}
	} @else {
		&[class*="-#{$modifier}"] {
			@content;
		}
	}
}

// Extend Modifiers

@mixin extend($modifiers...) {
	@each $modifier in $modifiers {
		@extend [class*="#{$component}-"][class*="-#{$modifier}"];
	}
}

//-----------------------------------------------------------------
// Responsive Media Queries
//-----------------------------------------------------------------

//-----------------------------------------------------------------
// Vertical Rhythm
//-----------------------------------------------------------------

// Remove top spacing 

%top-rhythm {
	&:first-child {
		margin-top: 0;
	}   
}

// Remove bottom spacing 

%bottom-rhythm {
	&:last-child {
		margin-bottom: 0;
	}  
}

@mixin vertical-rhythm($position: null) {  
	@if $position == top { 
		@extend %top-rhythm;
	} @else if $position == bottom {
		@extend %bottom-rhythm;
	} @else {
		@extend %top-rhythm;
		@extend %bottom-rhythm;
	}
}

//-----------------------------------------------------------------
// Vertical Centering
//-----------------------------------------------------------------

@mixin vertical-center($position) {
	position: $position;
	top: 50%;
	transform: translateY(-50%);
}

//-----------------------------------------------------------------
// Horizontal Centering
//-----------------------------------------------------------------

%horizontal-center {
	left: 0;
	right: 0;
	margin: auto;  
	text-align: center;
}

@mixin horizontal-center {
	@extend %horizontal-center;
}

//-----------------------------------------------------------------
// Font Sizes
//-----------------------------------------------------------------

@mixin font-sizes {
	@each $size, $value in $font-sizes {
		@include modifier($size) {
			font-size: $value;
		}
	}
}

//-----------------------------------------------------------------
// Fill-Parent Element 
//-----------------------------------------------------------------

%fill-parent {
	position: absolute;
	height: 100%;
	width: 100%;
	top: 0;
	left: 0;
}

@mixin fill-parent {
	@extend %fill-parent;
}

//-----------------------------------------------------------------
// Overlay
//-----------------------------------------------------------------

@mixin bg-overlay($background) {
	position: relative;
	&:before {
		content: "";
		z-index: 0;
		background: $background;
		@include fill-parent;
	}
}

//-----------------------------------------------------------------
// Keyframes
//-----------------------------------------------------------------

@keyframes spin { 
	0% {
		transform: rotate(0deg); 
	}
	100% { 
		transform: rotate(360deg); 
	} 
}

//-----------------------------------------------------------------
// Reset List Styles
//-----------------------------------------------------------------

%list-reset {
	margin: 0;
	padding: 0;
	list-style: none;
}

//-----------------------------------------------------------------
// CSS Triangle
//-----------------------------------------------------------------

@mixin triangle(
	$position: bottom, 
	$color: rgba($black, 0.75),
	$size: 0.5rem
) {
	&:after {
		content:'';
		position: absolute;
		width: 0;
		height: 0;
		margin-left: -$size;
		@if $position == bottom {
			top: 100%;
			left: 50%;
			border-left: solid $size transparent;
			border-right: solid $size transparent;
			border-top: solid $size $color;
		} @else if $position == top {
			bottom: 100%;
			left: 50%;
			border-left: solid $size transparent;
			border-right: solid $size transparent;
			border-bottom: solid $size $color;
		} @else if $position == right {
			top: 50%;
			right: -$size;
			transform: translateY(-50%);
			border-top: solid $size transparent;
			border-bottom: solid $size transparent;
			border-left: solid $size $color;
		} @else if $position == left {
			top: 50%;
			right: 100%;
			transform: translateY(-50%);
			border-top: solid $size transparent;
			border-bottom: solid $size transparent;
			border-right: solid $size $color;
		}
	}
}

//-----------------------------------------------------------------
// Iframe
//-----------------------------------------------------------------

.auto-resizable-iframe {
	max-width: breakpoint(break-2);
	margin: 0px auto;
	> div { 
		position: relative;
		padding-bottom: 58%;
		height: 0px;           
	}
	iframe {
		position: absolute;
		border: 0px;
		top: 0px;
		left: 0px;
		width: 100%;
		height: 100%;
	}
}