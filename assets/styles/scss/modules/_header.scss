//=================================================================
// Header
//=================================================================

@mixin header($config: ()) {

//-----------------------------------------------------------------
// Config
//-----------------------------------------------------------------

	$config: map-merge((
		absolute             : false,
		side                 : null,
		side-container-width : 100%,
		bar                  : false,
		dark                 : false,
		top-position         : 0,
		bg-color             : $background-color,
		dark-color           : color(greyscale, grey-5),
		height               : 100px,
		side-width           : 350px
	), $config);
	
//-----------------------------------------------------------------
// Component
//-----------------------------------------------------------------

	@include component(header) {

// Core Styles
//-----------------------------------------------------------------
	
		@include core {
	
			background-color: map-get($config, bg-color);		
	
			// Conditionals
	
			@if map-get($config, bar) {
				@include extend(bar);
			}
	
			@if map-get($config, absolute) {
				@include extend(absolute);
			}
	
			@if map-get($config, side) != null {
				@if map-get($config, side) == left {
					@include extend(side, left);
				} @else if map-get($config, side) == right {
					@include extend(side, right);
				} @else {
					@include extend(side);
				}
			}
	
			@if map-get($config, dark) {
				@include extend(dark);
			}
	
			// Child Styles
	
			@at-root .header-wrapper {
				height: map-get($config, height);
			}
	
		} // core

// Modifiers
//-----------------------------------------------------------------
	
		@include modifier(bar) {	
			.header-wrapper	{	
				display: table;
				width: 100%;
			}
			.logo, 
			.navigation {
				display: table-cell;
				vertical-align: middle;
			}
		}
	
		@include modifier(absolute) {
			position: absolute;
			top: map-get($config, top-position);
			z-index: 5;
			width: 100%;
		}
	
		@include modifier(side) {
			position: fixed;
			z-index: 5;
			height: 100%;
			top: 0;	
			overflow: auto;
			width: map-get($config, side-width);	
			@include modifier(left) {
				left: 0;
				+ #main {
					margin-left: map-get($config, side-width);
				}
			}
			@include modifier(right) {
				right: 0;
				+ #main {
					margin-right: map-get($config, side-width);
				}
			}
			@include nested-component(container) {
				max-width: map-get($config, side-container-width);
			}
		}
	
		@include modifier(dark) {
			background-color: map-get($config, dark-color);
		}
	
	} // component

} // header

@include header(
	if(variable-exists(header-custom), $header-custom, ())
);