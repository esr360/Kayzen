//=================================================================
// Header
//=================================================================

@mixin header($config: ()) {
	
	//-------------------------------------------------------------
	// Config
	//-------------------------------------------------------------

	$header: map-merge-deep((
		// Extend each "setting" as a modifier?
		extend-settings      : false,
		// Settings
		absolute             : false,
		bar                  : false,
		dark                 : false,
		side                 : null,
		// Options
		side-width           : 350px,
		side-container-width : 100%,
		top-position         : 0,
		bg-color             : base(background-color),
		dark-color           : color(greyscale, grey-5),
		height               : 100px
	), $config) !global;
	
	$config: $header !global;
	
	//-------------------------------------------------------------
	// Component
	//-------------------------------------------------------------

	@include component(header, map-get($header, selector-type)) {

	// Core Styles
	//-------------------------------------------------------------
	
		background-color: map-get($header, bg-color);	

	// Settings
	//-------------------------------------------------------------
	
		// Header Bar
		//---------------------------------------------------------
		
		@include setting(bar) {
			@at-root .wrap-header	{	
				display: table;
				width: 100%;
			}
			.logo, 
			.navigation {
				display: table-cell;
				vertical-align: middle;
			}
		}
		
		// Absolute Position Header
		//---------------------------------------------------------
	
		@include setting(absolute) {
			position: absolute;
			top: map-get($header, top-position);
			z-index: 5;
			width: 100%;
		}

		// Side Header
		//---------------------------------------------------------
	
		@if map-get($header, extend-settings) {
			@include modifier(side) {
				position: fixed;
				z-index: 5;
				height: 100%;
				top: 0;	
				overflow: auto;
				width: map-get($header, side-width);	
				@include modifier(left) {
					left: 0;
					+ #main {
						margin-left: map-get($header, side-width);
					}
				}
				@include modifier(right) {
					right: 0;
					+ #main {
						margin-right: map-get($header, side-width);
					}
				}
				@include nested-component(container) {
					max-width: map-get($header, side-container-width);
				}
			}
		}
		
		@if map-get($header, side) != null {
			@if map-get($header, side) == left {
				@include extend(side, left);
			} @else if map-get($header, side) == right {
				@include extend(side, right);
			} @else {
				@include extend(side);
			}
		}
		
		// Dark Header
		//---------------------------------------------------------
	
		@include setting(dark) {
			background-color: map-get($header, dark-color);
		}
		
	// Child Components
	//-------------------------------------------------------------

		@at-root .wrap-header {
			height: map-get($header, height);
		}
		
	} // component(header)

} // @mixin header