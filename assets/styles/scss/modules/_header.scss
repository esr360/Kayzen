//=================================================================
// Header
//=================================================================

//-----------------------------------------------------------------
// Config
//-----------------------------------------------------------------

$header: (
	absolute             : false,
	side                 : null,
	side-container-width : 100%,
	bar                  : false,
	dark                 : false,
	top-position         : 0,
	bg-color             : base(background-color),
	dark-color           : color(greyscale, grey-5),
	height               : 100px,
	side-width           : 350px
);

//-----------------------------------------------------------------
// Mixin
//-----------------------------------------------------------------

@mixin header($config: ()) {

	$config: map-merge-deep($header, $config);
	$header: $config !global;
	
	//-------------------------------------------------------------
	// Component
	//-------------------------------------------------------------

	@include component(header) {

	// Core Styles
	//-------------------------------------------------------------
	
		background-color: map-get($header, bg-color);		

		// Conditionals

		@if map-get($header, bar) {
			@include extend(bar);
		}

		@if map-get($header, absolute) {
			@include extend(absolute);
		}

		@if map-get($header, side) != null {
			@if map-get($header, side) == left {
				@include extend(side, left);
			} @else if map-get($header, side) == right {
				@include extend(side, right);
			} @else {
				@include extend(side);
			}
		}

		@if map-get($header, dark) {
			@include extend(dark);
		}

		// Child Styles

		@at-root .header-wrapper {
			height: map-get($header, height);
		}

	// Modifiers
	//-------------------------------------------------------------
	
		@include modifier(bar) {	
			.header-wrapper	{	
				display: table;
				width: 100%;
			}
			.logo, 
			.navigation {
				display: table-cell;
				vertical-align: middle;
			}
		}
	
		@include modifier(absolute) {
			position: absolute;
			top: map-get($header, top-position);
			z-index: 5;
			width: 100%;
		}
	
		@include modifier(side) {
			position: fixed;
			z-index: 5;
			height: 100%;
			top: 0;	
			overflow: auto;
			width: map-get($header, side-width);	
			@include modifier(left) {
				left: 0;
				+ #main {
					margin-left: map-get($header, side-width);
				}
			}
			@include modifier(right) {
				right: 0;
				+ #main {
					margin-right: map-get($header, side-width);
				}
			}
			@include nested-component(container) {
				max-width: map-get($header, side-container-width);
			}
		}
	
		@include modifier(dark) {
			background-color: map-get($header, dark-color);
		}
	
	} // component(header)

} // @mixin header

@include header(
	if(variable-exists(header), $header, ())
);